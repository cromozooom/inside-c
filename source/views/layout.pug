//- dev = true
doctype
html
	head
		block meta
			//- Required meta tags
			meta(charset='utf-8')
			meta(name='viewport', content='width=device-width, initial-scale=1, shrink-to-fit=no')
		
		block css
			link(rel='stylesheet', href='app.css')
			
	body
		block content
		
		block footer
			
		//- jQuery first, then Tether, then Bootstrap JS
		script(src='https:////cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js')
		
		//- blure
		script(src='https://zurb.com/playground/uploads/upload/upload/330/stackblur.min.js')
		
		script
			.
				$(function(){
					// our iteration
					$('[data-canvas]').each(function(){
						var $el = $(this);

						var BLUR_RADIUS = 5;
						var canvas = this; // canvas is the element we're iterating over
						var canvasContext = canvas.getContext('2d');

						var image = new Image();

						// I changed the line below of theirs to refer to the canvases attributes
						// we're iterating over above
						image.src = $el.attr('data-src');

						var drawBlur = function() {
							var w = canvas.width;
							var h = canvas.height;
							canvasContext.drawImage(image, 0, 0, w, h);

							var id = $el.attr('id'); // use the id from the canvas
							stackBlurCanvasRGBA( id, 0, 0, w, h, BLUR_RADIUS);
						};

						image.onload = function() {
							drawBlur();
						}
					});
				});

		
		//- one image blure
		//- script
			.
				$(function() {
					// Change this value to adjust the amount of blur
					var BLUR_RADIUS = 3;

					var canvas = document.querySelector('[data-canvas]');
					var canvasContext = canvas.getContext('2d');

					var image = new Image();
					image.src = document.querySelector('[data-canvas-image]').src;

					var drawBlur = function() {
						var w = canvas.width;
						var h = canvas.height;
						canvasContext.drawImage(image, 0, 0, w, h);
						stackBlurCanvasRGBA('heroCanvas', 0, 0, w, h, BLUR_RADIUS);
					};

					image.onload = function() {
						drawBlur();
					}
				});

		//- script(src='https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js')
		//--script(src='https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js', integrity='sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb', crossorigin='anonymous')
		//--script(src='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js', integrity='sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn', crossorigin='anonymous')
		//--script(src='https://cdn.rawgit.com/scottjehl/picturefill/3.0.2/dist/picturefill.min.js')